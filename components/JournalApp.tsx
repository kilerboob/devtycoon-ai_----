/**
 * JournalApp - –ñ—É—Ä–Ω–∞–ª –∏–≥—Ä–æ–∫–∞
 * –°–æ–¥–µ—Ä–∂–∏—Ç: –ì–∞–π–¥, –õ–æ—Ä –º–∏—Ä–∞, –ñ—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π, –ó–∞–º–µ—Ç–∫–∏
 */

import React, { useState, useEffect } from 'react';
import { Language, GameState } from '../types';
import { TRANSLATIONS, LORE_LIBRARY } from '../constants';

interface JournalAppProps {
  state: GameState;
  onClose: () => void;
}

type TabId = 'guide' | 'lore' | 'events' | 'notes';

// ============================================
// GUIDE SECTIONS - –ü–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ –∏–≥—Ä–µ
// ============================================
interface GuideSection {
  id: string;
  title: string;
  icon: string;
  content: string[];
}

const GUIDE_CONTENT: Record<Language, GuideSection[]> = {
  ru: [
    {
      id: 'start',
      title: 'üöÄ –ù–∞—á–∞–ª–æ –∏–≥—Ä—ã',
      icon: 'üöÄ',
      content: [
        '**–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ DevTycoon!**',
        '–í—ã - –Ω–∞—á–∏–Ω–∞—é—â–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤ –º–∏—Ä–µ CyberNation 2077.',
        '',
        '**–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏:**',
        '‚Ä¢ –û—Ç–∫—Ä–æ–π—Ç–µ IDE (DevStudio) –∏ –Ω–∞—á–Ω–∏—Ç–µ –ø–∏—Å–∞—Ç—å –∫–æ–¥',
        '‚Ä¢ –ö–∞–∂–¥—ã–π –∫–ª–∏–∫ = +1 —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞',
        '‚Ä¢ –ê–≤—Ç–æ–∫–æ–¥–µ—Ä –ø–∏—à–µ—Ç –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—É–ª—É—á—à–∞–µ—Ç—Å—è –Ω–∞–≤—ã–∫–∞–º–∏)',
        '‚Ä¢ –ó–∞–≤–µ—Ä—à–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–µ–Ω—å–≥–∏ –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏—é',
        '',
        '**–°–æ–≤–µ—Ç:** –ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —Å–ª–æ–∂–Ω—ã–º!'
      ]
    },
    {
      id: 'desktop',
      title: 'üñ•Ô∏è –†–∞–±–æ—á–∏–π —Å—Ç–æ–ª DevOS',
      icon: 'üñ•Ô∏è',
      content: [
        '**DevOS** - –≤–∞—à–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞.',
        '',
        '**–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**',
        '‚Ä¢ üíª DevStudio - IDE –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞',
        '‚Ä¢ üåê CyberNet - –±—Ä–∞—É–∑–µ—Ä —Å –º–∞–≥–∞–∑–∏–Ω–∞–º–∏',
        '‚Ä¢ üí¨ Signal - –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä —Å –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏',
        '‚Ä¢ üè¶ NeoBank - –±–∞–Ω–∫ –∏ –∫—Ä–µ–¥–∏—Ç—ã',
        '‚Ä¢ üöÄ Projects - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏',
        '‚Ä¢ üß† Skills - –¥–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤',
        '‚Ä¢ üìú –ß–µ—Ä—Ç–µ–∂–∏ - blueprints –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è',
        '‚Ä¢ üè¢ Corps - –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏',
        '',
        '**–¢–∞—Å–∫–±–∞—Ä:** –í–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º',
        '**Start Menu:** –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –ü—É—Å–∫ –∏–ª–∏ Alt+S'
      ]
    },
    {
      id: 'ide',
      title: 'üíª IDE & –ö–æ–¥–∏–Ω–≥',
      icon: 'üíª',
      content: [
        '**DevStudio** - –≤–∞—à –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.',
        '',
        '**–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:**',
        '‚Ä¢ WORK - –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤',
        '‚Ä¢ BUILDER - –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π',
        '‚Ä¢ HELP - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è',
        '',
        '**–ö–∞–∫ –ø–∏—Å–∞—Ç—å –∫–æ–¥:**',
        '1. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Projects',
        '2. –û—Ç–∫—Ä–æ–π—Ç–µ IDE –∏ –∫–ª–∏–∫–∞–π—Ç–µ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∫–æ–¥–∞',
        '3. –ê–≤—Ç–æ–∫–æ–¥–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏',
        '4. –ö–æ–≥–¥–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å 100% - –ø—Ä–æ–µ–∫—Ç –∑–∞–≤–µ—Ä—à—ë–Ω!',
        '',
        '**–ë–æ–Ω—É—Å—ã —Å–∫–æ—Ä–æ—Å—Ç–∏:**',
        '‚Ä¢ –ù–∞–≤—ã–∫–∏ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –∞–≤—Ç–æ–∫–æ–¥–µ—Ä',
        '‚Ä¢ –†–æ–ª—å "–ö–æ–¥–µ—Ä" –¥–∞—ë—Ç +20% —Å–∫–æ—Ä–æ—Å—Ç–∏',
        '‚Ä¢ –õ—É—á—à–µ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ = –±—ã—Å—Ç—Ä–µ–µ –∫–æ–¥'
      ]
    },
    {
      id: 'projects',
      title: 'üöÄ –ü—Ä–æ–µ–∫—Ç—ã',
      icon: 'üöÄ',
      content: [
        '**–ü—Ä–æ–µ–∫—Ç—ã** - –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ—Ö–æ–¥–∞.',
        '',
        '**–¢–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–æ–≤:**',
        '‚Ä¢ Landing Page - –ø—Ä–æ—Å—Ç—ã–µ, –±—ã—Å—Ç—Ä—ã–µ',
        '‚Ä¢ Portfolio - —Å—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å',
        '‚Ä¢ E-Commerce - —Å–ª–æ–∂–Ω—ã–µ, –¥–æ—Ä–æ–≥–∏–µ',
        '‚Ä¢ Mobile App - —Ç—Ä–µ–±—É—é—Ç –Ω–∞–≤—ã–∫–æ–≤',
        '‚Ä¢ Enterprise - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä–∞–¥–∞',
        '',
        '**–ö–∞–∫ –≤—ã–ø–æ–ª–Ω—è—Ç—å:**',
        '1. –û—Ç–∫—Ä–æ–π—Ç–µ Projects –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç',
        '2. –ù–∞–ø–∏—à–∏—Ç–µ –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞',
        '3. –ü–æ–ª—É—á–∏—Ç–µ –æ–ø–ª–∞—Ç—É –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏—é',
        '',
        '**–í–∞–∂–Ω–æ:** –°–ª–æ–∂–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Ç—Ä–µ–±—É—é—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤!'
      ]
    },
    {
      id: 'skills',
      title: 'üß† –ù–∞–≤—ã–∫–∏',
      icon: 'üß†',
      content: [
        '**–î–µ—Ä–µ–≤–æ –Ω–∞–≤—ã–∫–æ–≤** —Ä–∞–∑–≤–∏–≤–∞–µ—Ç –≤–∞—à–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏.',
        '',
        '**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞–≤—ã–∫–æ–≤:**',
        '‚Ä¢ Frontend - HTML, CSS, JavaScript, React',
        '‚Ä¢ Backend - Node.js, Python, Databases',
        '‚Ä¢ DevOps - Docker, CI/CD, Cloud',
        '‚Ä¢ Security - Hacking, Encryption',
        '',
        '**–ö–∞–∫ –ø—Ä–æ–∫–∞—á–∏–≤–∞—Ç—å:**',
        '1. –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—á–∫–∏ –æ–ø—ã—Ç–∞ (XP)',
        '2. –û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ Skills –∏ –≤—ã–±–∏—Ä–∞–π—Ç–µ –Ω–∞–≤—ã–∫',
        '3. –ò–Ω–≤–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ—á–∫–∏ –Ω–∞–≤—ã–∫–æ–≤',
        '',
        '**–ë–æ–Ω—É—Å—ã:** –ö–∞–∂–¥—ã–π –Ω–∞–≤—ã–∫ –¥–∞—ë—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞!'
      ]
    },
    {
      id: 'economy',
      title: 'üí∞ –≠–∫–æ–Ω–æ–º–∏–∫–∞',
      icon: 'üí∞',
      content: [
        '**–î–µ–Ω—å–≥–∏ (‚Çø)** - –≥–ª–∞–≤–Ω—ã–π —Ä–µ—Å—É—Ä—Å.',
        '',
        '**–ö–∞–∫ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å:**',
        '‚Ä¢ –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –ø—Ä–æ–µ–∫—Ç—ã',
        '‚Ä¢ –ü—Ä–æ–¥–∞–≤–∞–π—Ç–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ',
        '‚Ä¢ –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∫–≤–µ—Å—Ç—ã –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–π',
        '‚Ä¢ –•–∞–∫–µ—Ä—Å–∫–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã',
        '',
        '**NeoBank:**',
        '‚Ä¢ –ö—Ä–µ–¥–∏—Ç—ã - –∑–∞–π–º–∏—Ç–µ –¥–µ–Ω—å–≥–∏ –ø–æ–¥ –ø—Ä–æ—Ü–µ–Ω—Ç',
        '‚Ä¢ –í–∫–ª–∞–¥—ã - –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥',
        '‚Ä¢ –û–ø–ª–∞—Ç–∞ —Å—á–µ—Ç–æ–≤ - —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç',
        '',
        '**–ú–∞–≥–∞–∑–∏–Ω—ã:**',
        '‚Ä¢ CyberBay - –ª–µ–≥–∞–ª—å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã',
        '‚Ä¢ DarkHub - —Ç–µ–Ω–µ–≤–æ–π —Ä—ã–Ω–æ–∫ (—Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–æ!)'
      ]
    },
    {
      id: 'corporations',
      title: 'üè¢ –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏',
      icon: 'üè¢',
      content: [
        '**–ö–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏** - –º–æ–≥—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –º–∏—Ä–∞.',
        '',
        '**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏:**',
        '‚Ä¢ NeoTech Industries - —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',
        '‚Ä¢ CyberSec Alliance - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å',
        '‚Ä¢ DataFlow Corp - –±–æ–ª—å—à–∏–µ –¥–∞–Ω–Ω—ã–µ',
        '‚Ä¢ ANG Vers - —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å (S-Tier!)',
        '',
        '**–†–µ–ø—É—Ç–∞—Ü–∏—è:**',
        '‚Ä¢ –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∫–≤–µ—Å—Ç—ã –¥–ª—è —Ä–æ—Å—Ç–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏',
        '‚Ä¢ –í—ã—Å–æ–∫–∞—è —Ä–µ–ø—É—Ç–∞—Ü–∏—è = –ª—É—á—à–∏–µ –Ω–∞–≥—Ä–∞–¥—ã',
        '‚Ä¢ –ú–æ–∂–Ω–æ –≤—Å—Ç—É–ø–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω—É –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—é',
        '',
        '**–ß–ª–µ–Ω—Å—Ç–≤–æ:** –ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ –≤–∑–Ω–æ—Å—ã –∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã'
      ]
    },
    {
      id: 'blueprints',
      title: 'üìú –ß–µ—Ä—Ç–µ–∂–∏',
      icon: 'üìú',
      content: [
        '**–ß–µ—Ä—Ç–µ–∂–∏ (Blueprints)** - —Å—Ö–µ–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è.',
        '',
        '**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å:**',
        '‚Ä¢ –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –ø—Ä–æ–µ–∫—Ç—ã',
        '‚Ä¢ –ü–æ–∫—É–ø–∫–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö',
        '‚Ä¢ –ù–∞–≥—Ä–∞–¥—ã –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–π',
        '‚Ä¢ –†–µ–¥–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏ –ø—Ä–∏ —Ö–∞–∫–∏–Ω–≥–µ',
        '',
        '**–ö–∞—á–µ—Å—Ç–≤–æ —á–µ—Ä—Ç–µ–∂–µ–π:**',
        '‚Ä¢ Common (—Å–µ—Ä—ã–π) - –±–∞–∑–æ–≤–æ–µ',
        '‚Ä¢ Uncommon (–∑–µ–ª—ë–Ω—ã–π) - —É–ª—É—á—à–µ–Ω–Ω–æ–µ',
        '‚Ä¢ Rare (—Å–∏–Ω–∏–π) - —Ä–µ–¥–∫–æ–µ',
        '‚Ä¢ Epic (—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π) - —ç–ø–∏—á–µ—Å–∫–æ–µ',
        '‚Ä¢ Legendary (–æ—Ä–∞–Ω–∂–µ–≤—ã–π) - –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ',
        '',
        '**–ö—Ä–∞—Ñ—Ç:** –°–æ–±–∏—Ä–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ!'
      ]
    },
    {
      id: 'hacking',
      title: 'üîì –•–∞–∫–∏–Ω–≥',
      icon: 'üîì',
      content: [
        '**–•–∞–∫–∏–Ω–≥** - –æ–ø–∞—Å–Ω—ã–π, –Ω–æ –ø—Ä–∏–±—ã–ª—å–Ω—ã–π –ø—É—Ç—å.',
        '',
        '**–ú–∏–Ω–∏-–∏–≥—Ä–∞:**',
        '‚Ä¢ –í–∑–ª–∞–º—ã–≤–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∏–º–≤–æ–ª–æ–≤',
        '‚Ä¢ –ß–µ–º —Å–ª–æ–∂–Ω–µ–µ —Ü–µ–ª—å - –±–æ–ª—å—à–µ –Ω–∞–≥—Ä–∞–¥–∞',
        '‚Ä¢ –ü—Ä–æ–≤–∞–ª = —à—Ç—Ä–∞—Ñ –∏–ª–∏ –ø–æ—Ç–µ—Ä—è —Ä–µ–ø—É—Ç–∞—Ü–∏–∏',
        '',
        '**–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã:**',
        '‚Ä¢ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —à–ø–∏–æ–Ω–∞–∂',
        '‚Ä¢ –ö—Ä–∞–∂–∞ –¥–∞–Ω–Ω—ã—Ö',
        '‚Ä¢ –í–∑–ª–æ–º —Å–∏—Å—Ç–µ–º',
        '',
        '**–û—Å—Ç–æ—Ä–æ–∂–Ω–æ:** –•–∞–∫–∏–Ω–≥ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∞—à—É "—Ç—ë–º–Ω—É—é" —Ä–µ–ø—É—Ç–∞—Ü–∏—é!'
      ]
    },
    {
      id: 'endings',
      title: 'üèÜ –ö–æ–Ω—Ü–æ–≤–∫–∏',
      icon: 'üèÜ',
      content: [
        '**–ö–æ–Ω—Ü–æ–≤–∫–∏** - –∏—Ç–æ–≥ –≤–∞—à–µ–≥–æ –ø—É—Ç–∏.',
        '',
        '**–¢–∏–ø—ã –∫–æ–Ω—Ü–æ–≤–æ–∫:**',
        '‚Ä¢ üåü –õ–µ–≥–µ–Ω–¥–∞ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Å–ø–µ—Ö',
        '‚Ä¢ üè¢ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –±–æ—Å—Å - –≥–ª–∞–≤–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏',
        '‚Ä¢ üîì –ú–∞—Å—Ç–µ—Ä —Ö–∞–∫–µ—Ä - –∫–æ—Ä–æ–ª—å —Ç–µ–Ω–µ–π',
        '‚Ä¢ üíº –§—Ä–∏–ª–∞–Ω—Å–µ—Ä - —Å–≤–æ–±–æ–¥–Ω—ã–π –ø—É—Ç—å',
        '‚Ä¢ üíÄ –í—ã–≥–æ—Ä–∞–Ω–∏–µ - –ø—Ä–æ–≤–∞–ª...',
        '',
        '**–ö–∞–∫ –¥–æ—Å—Ç–∏—á—å:**',
        '‚Ä¢ –í–∞—à–∏ —Ä–µ—à–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –∫–æ–Ω—Ü–æ–≤–∫—É',
        '‚Ä¢ –†–µ–ø—É—Ç–∞—Ü–∏—è, –¥–µ–Ω—å–≥–∏, –Ω–∞–≤—ã–∫–∏ - –≤—Å—ë –≤–∞–∂–Ω–æ',
        '‚Ä¢ –ï—Å—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–Ω—Ü–æ–≤–∫–∏!',
        '',
        '**–ü–æ–¥—Å–∫–∞–∑–∫–∞:** –ò—Å—Å–ª–µ–¥—É–π—Ç–µ –≤—Å–µ –ø—É—Ç–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ñ–∏–Ω–∞–ª–æ–≤!'
      ]
    }
  ],
  en: [
    {
      id: 'start',
      title: 'üöÄ Getting Started',
      icon: 'üöÄ',
      content: [
        '**Welcome to DevTycoon!**',
        'You are a novice developer in CyberNation 2077.',
        '',
        '**First steps:**',
        '‚Ä¢ Open IDE (DevStudio) and start writing code',
        '‚Ä¢ Each click = +1 line of code',
        '‚Ä¢ Autocoder writes code automatically',
        '‚Ä¢ Complete projects to earn money and reputation',
        '',
        '**Tip:** Start with simple projects and gradually move to complex ones!'
      ]
    },
    {
      id: 'desktop',
      title: 'üñ•Ô∏è DevOS Desktop',
      icon: 'üñ•Ô∏è',
      content: [
        '**DevOS** - your operating system.',
        '',
        '**Main applications:**',
        '‚Ä¢ üíª DevStudio - IDE for coding',
        '‚Ä¢ üåê CyberNet - browser with shops',
        '‚Ä¢ üí¨ Signal - messenger',
        '‚Ä¢ üè¶ NeoBank - bank and loans',
        '‚Ä¢ üöÄ Projects - project management',
        '‚Ä¢ üß† Skills - skill tree',
        '',
        '**Taskbar:** Bottom of screen - quick app access',
        '**Start Menu:** Click Start button or Alt+S'
      ]
    }
  ],
  uk: [
    {
      id: 'start',
      title: 'üöÄ –ü–æ—á–∞—Ç–æ–∫ –≥—Ä–∏',
      icon: 'üöÄ',
      content: [
        '**–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ DevTycoon!**',
        '–í–∏ - –ø–æ—á–∞—Ç–∫—ñ–≤–µ—Ü—å-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫ —É —Å–≤—ñ—Ç—ñ CyberNation 2077.',
        '',
        '**–ü–µ—Ä—à—ñ –∫—Ä–æ–∫–∏:**',
        '‚Ä¢ –í—ñ–¥–∫—Ä–∏–π—Ç–µ IDE (DevStudio) —ñ –ø–æ—á–Ω—ñ—Ç—å –ø–∏—Å–∞—Ç–∏ –∫–æ–¥',
        '‚Ä¢ –ö–æ–∂–µ–Ω –∫–ª—ñ–∫ = +1 —Ä—è–¥–æ–∫ –∫–æ–¥—É',
        '‚Ä¢ –ê–≤—Ç–æ–∫–æ–¥–µ—Ä –ø–∏—à–µ –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ',
        '‚Ä¢ –ó–∞–≤–µ—Ä—à—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç–∏ —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä–æ—à—ñ —Ç–∞ —Ä–µ–ø—É—Ç–∞—Ü—ñ—é',
        '',
        '**–ü–æ—Ä–∞–¥–∞:** –ü–æ—á–∏–Ω–∞–π—Ç–µ –∑ –ø—Ä–æ—Å—Ç–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤!'
      ]
    }
  ]
};

// ============================================
// LORE SECTIONS - –ü–æ–ª–Ω—ã–π –ª–æ—Ä –º–∏—Ä–∞
// ============================================
interface LoreSection {
  id: string;
  title: string;
  icon: string;
  content: string[];
  unlocked?: boolean;
}

const LORE_CONTENT: Record<Language, LoreSection[]> = {
  ru: [
    {
      id: 'world',
      title: 'üåç –ú–∏—Ä CyberNation',
      icon: 'üåç',
      content: [
        '**2077 –≥–æ–¥. –ú–∏—Ä –∏–∑–º–µ–Ω–∏–ª—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞.**',
        '',
        '–ü–æ—Å–ª–µ –í–µ–ª–∏–∫–æ–≥–æ –¶–∏—Ñ—Ä–æ–≤–æ–≥–æ –ö—Ä–∞—Ö–∞ 2045 –≥–æ–¥–∞, –∫–æ–≥–¥–∞ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –ø–∞–ª–∏ –ø–æ–¥ –Ω–∞—Ç–∏—Å–∫–æ–º –∫–∏–±–µ—Ä–∞—Ç–∞–∫ –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–ª–ª–∞–ø—Å–∞, –≤–ª–∞—Å—Ç—å –ø–µ—Ä–µ—à–ª–∞ –∫ –º–µ–≥–∞–∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è–º.',
        '',
        '–¢–µ–ø–µ—Ä—å –º–∏—Ä —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ **CyberNation** - —Ü–∏—Ñ—Ä–æ–≤—ã–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –≥–∏–≥–∞–Ω—Ç–∞–º–∏. –ö–∞–∂–¥–∞—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–µ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–µ–π, –≤–∞–ª—é—Ç–æ–π –∏ –∑–∞–∫–æ–Ω–∞–º–∏.',
        '',
        '**–õ—é–¥–∏ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –∫–∞—Å—Ç—ã:**',
        '‚Ä¢ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è —ç–ª–∏—Ç–∞ - –≤–µ—Ä—Ö—É—à–∫–∞ –ø–∏—Ä–∞–º–∏–¥—ã',
        '‚Ä¢ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ - –Ω–æ–≤–∞—è —Ä–∞–±–æ—á–∞—è –∞—Ä–∏—Å—Ç–æ–∫—Ä–∞—Ç–∏—è',
        '‚Ä¢ –§—Ä–∏–ª–∞–Ω—Å–µ—Ä—ã - —Å–≤–æ–±–æ–¥–Ω—ã–µ, –Ω–æ –Ω–µ–∑–∞—â–∏—â—ë–Ω–Ω—ã–µ',
        '‚Ä¢ –•–∞–∫–µ—Ä—ã - —Ç–µ–Ω–µ–≤—ã–µ –±–æ—Ä—Ü—ã —Å —Å–∏—Å—Ç–µ–º–æ–π',
        '‚Ä¢ –†—è–¥–æ–≤—ã–µ –≥—Ä–∞–∂–¥–∞–Ω–µ - —Ü–∏—Ñ—Ä–æ–≤—ã–µ —Ä–∞–±—ã',
        '',
        '–í—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ —Å–≤–æ–π –ø—É—Ç—å —Å —Å–∞–º–æ–≥–æ –Ω–∏–∑–∞...'
      ]
    },
    {
      id: 'neotech',
      title: '‚ö° NeoTech Industries',
      icon: '‚ö°',
      content: [
        '**NeoTech Industries** - —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –≥–∏–≥–∞–Ω—Ç.',
        '',
        '**–ò—Å—Ç–æ—Ä–∏—è:**',
        '–û—Å–Ω–æ–≤–∞–Ω–∞ –≤ 2030 –≥–æ–¥—É –≥—Ä—É–ø–ø–æ–π –±—ã–≤—à–∏—Ö –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ Silicon Valley. –ü–æ—Å–ª–µ –ö—Ä–∞—Ö–∞ 2045 —Å–∫—É–ø–∏–ª–∞ –æ–±–ª–æ–º–∫–∏ Google, Apple –∏ Microsoft.',
        '',
        '**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**',
        '‚Ä¢ –ù–µ–π—Ä–æ–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã',
        '‚Ä¢ –ö–≤–∞–Ω—Ç–æ–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è',
        '‚Ä¢ AI –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è',
        '',
        '**–î–µ–≤–∏–∑:** "–ë—É–¥—É—â–µ–µ —Å–æ–∑–¥–∞—ë–º –º—ã"',
        '',
        '**–õ–∏–¥–µ—Ä:** –†–∏—á–∞—Ä–¥ –ù–µ–æ - –∑–∞–≥–∞–¥–æ—á–Ω—ã–π –≥–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∏–∫—Ç–æ –Ω–µ –≤–∏–¥–µ–ª –ª–∏—á–Ω–æ —É–∂–µ 10 –ª–µ—Ç. –•–æ–¥—è—Ç —Å–ª—É—Ö–∏, —á—Ç–æ –æ–Ω –∑–∞–≥—Ä—É–∑–∏–ª —Å–æ–∑–Ω–∞–Ω–∏–µ –≤ —Å–µ—Ç—å...',
        '',
        '**–†–µ–ø—É—Ç–∞—Ü–∏—è:** –°—á–∏—Ç–∞—é—Ç—Å—è "—Å–≤–µ—Ç–ª–æ–π" –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–µ–π, –Ω–æ –∏—Ö –º–µ—Ç–æ–¥—ã –Ω–µ –≤—Å–µ–≥–¥–∞ —á–∏—Å—Ç—ã.'
      ]
    },
    {
      id: 'cybersec',
      title: 'üõ°Ô∏è CyberSec Alliance',
      icon: 'üõ°Ô∏è',
      content: [
        '**CyberSec Alliance** - —Å—Ç—Ä–∞–∂–∏ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –º–∏—Ä–∞.',
        '',
        '**–ò—Å—Ç–æ—Ä–∏—è:**',
        '–°–æ–∑–¥–∞–Ω –≤ 2048 –≥–æ–¥—É –∫–∞–∫ —Å–æ—é–∑ —Ö–∞–∫–µ—Ä—Å–∫–∏—Ö –≥—Ä—É–ø–ø, —Ä–µ—à–∏–≤—à–∏—Ö –∑–∞—â–∏—â–∞—Ç—å –≥—Ä–∞–∂–¥–∞–Ω –æ—Ç –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–ª–∞. –°–æ –≤—Ä–µ–º–µ–Ω–µ–º —Å–∞–º —Å—Ç–∞–ª –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–µ–π.',
        '',
        '**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**',
        '‚Ä¢ –ö–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å',
        '‚Ä¢ –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö',
        '‚Ä¢ –¶–∏—Ñ—Ä–æ–≤–∞—è —Ä–∞–∑–≤–µ–¥–∫–∞',
        '',
        '**–î–µ–≤–∏–∑:** "–©–∏—Ç –≤ —ç–ø–æ—Ö—É –º–µ—á–µ–π"',
        '',
        '**–ü–∞—Ä–∞–¥–æ–∫—Å:** –ó–∞—â–∏—â–∞—é—Ç –æ—Ç —Ö–∞–∫–µ—Ä–æ–≤, —Å–∞–º–∏ –±—ã–≤—à–∏–µ —Ö–∞–∫–µ—Ä—ã. –ò–Ω–æ–≥–¥–∞ –≥—Ä–∞–Ω–∏—Ü—ã —Ä–∞–∑–º—ã–≤–∞—é—Ç—Å—è...',
        '',
        '**–°–µ–∫—Ä–µ—Ç:** –£ –Ω–∏—Ö –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ "–ß—ë—Ä–Ω–æ–º—É –ê—Ä—Ö–∏–≤—É" - –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤—Å–µ—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –º–∏—Ä–∞.'
      ]
    },
    {
      id: 'dataflow',
      title: 'üìä DataFlow Corp',
      icon: 'üìä',
      content: [
        '**DataFlow Corp** - –≤–ª–∞–¥—ã–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.',
        '',
        '**–ò—Å—Ç–æ—Ä–∏—è:**',
        '–í—ã—Ä–æ—Å–ª–∞ –∏–∑ –∫–∏—Ç–∞–π—Å–∫–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞–ø–∞ –ø–æ –∞–Ω–∞–ª–∏–∑—É –¥–∞–Ω–Ω—ã—Ö. –ü–æ—Å–ª–µ –ö—Ä–∞—Ö–∞ —Å—Ç–∞–ª–∞ –º–æ–Ω–æ–ø–æ–ª–∏—Å—Ç–æ–º –≤ —Å—Ñ–µ—Ä–µ Big Data.',
        '',
        '**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**',
        '‚Ä¢ –°–±–æ—Ä –∏ –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö',
        '‚Ä¢ –ü—Ä–µ–¥—Å–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã',
        '‚Ä¢ –°–æ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–π—Ç–∏–Ω–≥',
        '',
        '**–î–µ–≤–∏–∑:** "–î–∞–Ω–Ω—ã–µ - –Ω–æ–≤–∞—è –Ω–µ—Ñ—Ç—å"',
        '',
        '**–¢—ë–º–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞:** –ó–Ω–∞—é—Ç –æ –∫–∞–∂–¥–æ–º —á–µ–ª–æ–≤–µ–∫–µ –≤—Å—ë. –ë—É–∫–≤–∞–ª—å–Ω–æ –≤—Å—ë. –í–∞—à–∏ –º—ã—Å–ª–∏, –∂–µ–ª–∞–Ω–∏—è, —Å—Ç—Ä–∞—Ö–∏ - –≤—Å—ë –æ—Ü–∏—Ñ—Ä–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ.',
        '',
        '**–°–ª—É—Ö:** –ì–æ–≤–æ—Ä—è—Ç, –æ–Ω–∏ –º–æ–≥—É—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è —á–µ–ª–æ–≤–µ–∫–∞ —Å —Ç–æ—á–Ω–æ—Å—Ç—å—é 99.7%...'
      ]
    },
    {
      id: 'angvers',
      title: 'üåê ANG Vers',
      icon: 'üåê',
      content: [
        '**ANG Vers** - —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –º–µ—Ç–∞–≤—Å–µ–ª–µ–Ω–Ω–∞—è.',
        '',
        '**–ò—Å—Ç–æ—Ä–∏—è:**',
        '–°–æ–∑–¥–∞–Ω–∞ –∑–∞–≥–∞–¥–æ—á–Ω—ã–º –æ—Å–Ω–æ–≤–∞—Ç–µ–ª–µ–º, –∏–∑–≤–µ—Å—Ç–Ω—ã–º —Ç–æ–ª—å–∫–æ –∫–∞–∫ "ANG". –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å - —ç—Ç–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å.',
        '',
        '**–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å:**',
        '‚Ä¢ –ü–æ–ª–Ω–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∏—Ä',
        '‚Ä¢ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞ (ANG Coins)',
        '‚Ä¢ –¶–∏—Ñ—Ä–æ–≤–æ–µ –±–µ—Å—Å–º–µ—Ä—Ç–∏–µ –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö',
        '',
        '**–§–∏–ª–æ—Å–æ—Ñ–∏—è:** "–†–µ–∞–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–æ—Ü–µ–Ω–µ–Ω–∞"',
        '',
        '**–¢–∞–π–Ω–∞:** –ù–∏–∫—Ç–æ –Ω–µ –∑–Ω–∞–µ—Ç, –∫—Ç–æ —Ç–∞–∫–æ–π ANG. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—á–∏—Ç–∞—é—Ç –µ–≥–æ AI, –¥—Ä—É–≥–∏–µ - –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω—ã–º —Ä–∞–∑—É–º–æ–º –º–∏–ª–ª–∏–æ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.',
        '',
        '**S-Tier —Å—Ç–∞—Ç—É—Å:** –°–∞–º–∞—è –≤–ª–∏—è—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è. –ß–ª–µ–Ω—Å—Ç–≤–æ –¥–∞—ë—Ç –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏, –Ω–æ —Ü–µ–Ω–∞... –≤—ã—Å–æ–∫–∞.'
      ]
    },
    {
      id: 'underground',
      title: 'üî• –ü–æ–¥–ø–æ–ª—å–µ',
      icon: 'üî•',
      content: [
        '**–¢–µ–Ω–µ–≤–æ–π –º–∏—Ä CyberNation.**',
        '',
        '**DarkNet:**',
        '–°–∫—Ä—ã—Ç–∞—è —Å–µ—Ç—å, –≥–¥–µ –¥–µ–π—Å—Ç–≤—É—é—Ç —Å–≤–æ–∏ –∑–∞–∫–æ–Ω—ã. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤—Å—ë - –æ—Ç –∑–∞–ø—Ä–µ—â—ë–Ω–Ω–æ–≥–æ —Å–æ—Ñ—Ç–∞ –¥–æ –Ω–∞—ë–º–Ω—ã—Ö —Ö–∞–∫–µ—Ä–æ–≤.',
        '',
        '**–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏:**',
        '‚Ä¢ Ghost Protocol - —ç–ª–∏—Ç–Ω—ã–µ —Ö–∞–∫–µ—Ä—ã-–∞–Ω–∞—Ä—Ö–∏—Å—Ç—ã',
        '‚Ä¢ Chrome Dogs - –∫–∏–±–µ—Ä-–±–∞–Ω–¥–∏—Ç—ã',
        '‚Ä¢ Digital Liberation Front - –∏–¥–µ–π–Ω—ã–µ –±–æ—Ä—Ü—ã',
        '',
        '**DarkHub:**',
        '–ì–ª–∞–≤–Ω—ã–π —Ä—ã–Ω–æ–∫ –ø–æ–¥–ø–æ–ª—å—è. –ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞... –ø–æ—á—Ç–∏.',
        '',
        '**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:** –¢–µ–Ω–µ–≤–æ–π –ø—É—Ç—å –ø—Ä–∏–±—ã–ª–µ–Ω, –Ω–æ –æ–ø–∞—Å–µ–Ω. –ö–æ—Ä–ø–æ—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–æ—â–∞—é—Ç —Ç–µ—Ö, –∫—Ç–æ –∏–º –º–µ—à–∞–µ—Ç.',
        '',
        '**–õ–µ–≥–µ–Ω–¥–∞:** –ì–æ–≤–æ—Ä—è—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç "–ù—É–ª–µ–≤–æ–π –•–∞–∫–µ—Ä" - —Ç–æ—Ç, –∫—Ç–æ –º–æ–∂–µ—Ç –≤–∑–ª–æ–º–∞—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ. –ï–≥–æ –∏—â—É—Ç –≤—Å–µ...'
      ]
    },
    {
      id: 'technology',
      title: 'üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ 2077',
      icon: 'üîß',
      content: [
        '**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –º–∏—Ä–∞.**',
        '',
        '**–ù–µ–π—Ä–æ–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:**',
        '–ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –º–æ–∑–≥–∞ –∫ —Å–µ—Ç–∏. 80% –Ω–∞—Å–µ–ª–µ–Ω–∏—è –∏–º–µ—é—Ç –±–∞–∑–æ–≤—ã–π –∏–º–ø–ª–∞–Ω—Ç.',
        '',
        '**AI:**',
        '–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –ø–æ–≤—Å—é–¥—É. –ù–æ "—Å–∏–ª—å–Ω—ã–π AI" –∑–∞–ø—Ä–µ—â—ë–Ω –ø–æ—Å–ª–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ 2061 –≥–æ–¥–∞...',
        '',
        '**–ö–≤–∞–Ω—Ç–æ–≤—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã:**',
        '–°—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏–π. –û–±—ã—á–Ω—ã–µ –ª—é–¥–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –ü–ö.',
        '',
        '**–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã:**',
        '‚Ä¢ ‚Çø BitCred - –æ—Å–Ω–æ–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞',
        '‚Ä¢ CyberCoin - –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –≤–∞–ª—é—Ç–∞',
        '‚Ä¢ DarkCoin - –¥–ª—è —Ç–µ–Ω–µ–≤—ã—Ö —Å–¥–µ–ª–æ–∫',
        '',
        '**–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å:**',
        '–ù–µ–æ—Ç–ª–∏—á–∏–º–∞ –æ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏. –ú–Ω–æ–≥–∏–µ –∂–∏–≤—É—Ç —Ç–∞–º –±–æ–ª—å—à–µ, —á–µ–º –≤ —Ä–µ–∞–ª—å–Ω–æ–º –º–∏—Ä–µ.'
      ]
    },
    {
      id: 'player',
      title: 'üë§ –í–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è',
      icon: 'üë§',
      content: [
        '**–ö—Ç–æ –≤—ã?**',
        '',
        '–í—ã - –º–æ–ª–æ–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –≤—ã—Ä–æ—Å—à–∏–π –≤ —Ç—Ä—É—â–æ–±–∞—Ö CyberCity. –í–∞—à–∏ —Ä–æ–¥–∏—Ç–µ–ª–∏ –±—ã–ª–∏ –æ–±—ã—á–Ω—ã–º–∏ —Ä–∞–±–æ—á–∏–º–∏, –ø–æ–∫–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—è –Ω–µ "–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª–∞" –∏—Ö –¥–æ–ª–∂–Ω–æ—Å—Ç–∏.',
        '',
        '–£ –≤–∞—Å –µ—Å—Ç—å —Ç–∞–ª–∞–Ω—Ç –∫ –∫–æ–¥—É. –†–µ–¥–∫–∏–π —Ç–∞–ª–∞–Ω—Ç. –í—ã –Ω–∞—É—á–∏–ª–∏—Å—å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º–∏, –Ω–∞ —Å—Ç–∞—Ä–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –Ω–∞–π–¥–µ–Ω–Ω–æ–º –Ω–∞ —Å–≤–∞–ª–∫–µ.',
        '',
        '**–í–∞—à–∞ —Ü–µ–ª—å:**',
        '–í—ã—Ä–≤–∞—Ç—å—Å—è –∏–∑ –Ω–∏—â–µ—Ç—ã. –°—Ç–∞—Ç—å –∫–µ–º-—Ç–æ. –ò–ª–∏... –∏–∑–º–µ–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∏–∑–Ω—É—Ç—Ä–∏?',
        '',
        '**–í—ã–±–æ—Ä –∑–∞ –≤–∞–º–∏:**',
        '‚Ä¢ –ü–æ–¥–Ω—è—Ç—å—Å—è –ø–æ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π –ª–µ—Å—Ç–Ω–∏—Ü–µ?',
        '‚Ä¢ –°—Ç–∞—Ç—å –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–º —Ö–∞–∫–µ—Ä–æ–º?',
        '‚Ä¢ –°–æ–∑–¥–∞—Ç—å —Å–≤–æ—é –∏–º–ø–µ—Ä–∏—é?',
        '‚Ä¢ –ò–ª–∏ –Ω–∞–π—Ç–∏ —Ç—Ä–µ—Ç–∏–π –ø—É—Ç—å?',
        '',
        '**–ü–æ–º–Ω–∏—Ç–µ:** –ö–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏–º–µ–µ—Ç –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è. –í –º–∏—Ä–µ CyberNation –Ω–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ - –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤–∞—à –ø—É—Ç—å.'
      ]
    }
  ],
  en: [
    {
      id: 'world',
      title: 'üåç CyberNation World',
      icon: 'üåç',
      content: [
        '**Year 2077. The world has changed forever.**',
        '',
        'After the Great Digital Crash of 2045, power shifted to megacorporations.',
        '',
        'Now the world is divided into **CyberNations** - digital states controlled by tech giants.',
        '',
        'You start your journey from the very bottom...'
      ]
    }
  ],
  uk: [
    {
      id: 'world',
      title: 'üåç –°–≤—ñ—Ç CyberNation',
      icon: 'üåç',
      content: [
        '**2077 —Ä—ñ–∫. –°–≤—ñ—Ç –∑–º—ñ–Ω–∏–≤—Å—è –Ω–∞–∑–∞–≤–∂–¥–∏.**',
        '',
        '–ü—ñ—Å–ª—è –í–µ–ª–∏–∫–æ–≥–æ –¶–∏—Ñ—Ä–æ–≤–æ–≥–æ –ö—Ä–∞—Ö—É 2045 —Ä–æ–∫—É –≤–ª–∞–¥–∞ –ø–µ—Ä–µ–π—à–ª–∞ –¥–æ –º–µ–≥–∞–∫–æ—Ä–ø–æ—Ä–∞—Ü—ñ–π.',
        '',
        '–í–∏ –ø–æ—á–∏–Ω–∞—î—Ç–µ —Å–≤—ñ–π —à–ª—è—Ö –∑ —Å–∞–º–æ–≥–æ –Ω–∏–∑—É...'
      ]
    }
  ]
};

// ============================================
// EVENT LOG - –ñ—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π
// ============================================
interface GameEvent {
  id: string;
  timestamp: number;
  type: 'money' | 'reputation' | 'project' | 'skill' | 'purchase' | 'quest' | 'hack' | 'system';
  icon: string;
  message: string;
}

// ============================================
// COMPONENT
// ============================================
export const JournalApp: React.FC<JournalAppProps> = ({ state, onClose }) => {
  const [activeTab, setActiveTab] = useState<TabId>('guide');
  const [selectedGuide, setSelectedGuide] = useState<string>('start');
  const [selectedLore, setSelectedLore] = useState<string>('world');
  const [notes, setNotes] = useState<string>(() => {
    const saved = localStorage.getItem('devtycoon_notes');
    return saved || '';
  });
  const [events, setEvents] = useState<GameEvent[]>(() => {
    const saved = localStorage.getItem('devtycoon_events');
    return saved ? JSON.parse(saved) : [];
  });

  const t = TRANSLATIONS[state.language];
  const guideContent = GUIDE_CONTENT[state.language] || GUIDE_CONTENT.ru;
  const loreContent = LORE_CONTENT[state.language] || LORE_CONTENT.ru;

  // Save notes
  useEffect(() => {
    localStorage.setItem('devtycoon_notes', notes);
  }, [notes]);

  // Generate some events based on game state
  useEffect(() => {
    const newEvents: GameEvent[] = [];
    
    // Add money milestone events
    if (state.money >= 1000 && !events.find(e => e.id === 'money_1k')) {
      newEvents.push({
        id: 'money_1k',
        timestamp: Date.now(),
        type: 'money',
        icon: 'üí∞',
        message: '–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ ‚Çø1,000!'
      });
    }
    if (state.money >= 10000 && !events.find(e => e.id === 'money_10k')) {
      newEvents.push({
        id: 'money_10k',
        timestamp: Date.now(),
        type: 'money',
        icon: 'üíé',
        message: '–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ ‚Çø10,000!'
      });
    }

    // Add reputation events
    if (state.reputation >= 100 && !events.find(e => e.id === 'rep_100')) {
      newEvents.push({
        id: 'rep_100',
        timestamp: Date.now(),
        type: 'reputation',
        icon: '‚≠ê',
        message: '–†–µ–ø—É—Ç–∞—Ü–∏—è –¥–æ—Å—Ç–∏–≥–ª–∞ 100!'
      });
    }

    if (newEvents.length > 0) {
      const updated = [...events, ...newEvents].slice(-50); // Keep last 50 events
      setEvents(updated);
      localStorage.setItem('devtycoon_events', JSON.stringify(updated));
    }
  }, [state.money, state.reputation, events]);

  const tabs: { id: TabId; icon: string; label: string }[] = [
    { id: 'guide', icon: 'üìñ', label: '–ì–∞–π–¥' },
    { id: 'lore', icon: 'üìú', label: '–õ–æ—Ä' },
    { id: 'events', icon: 'üìã', label: '–°–æ–±—ã—Ç–∏—è' },
    { id: 'notes', icon: 'üìù', label: '–ó–∞–º–µ—Ç–∫–∏' }
  ];

  const renderMarkdown = (lines: string[]) => {
    return lines.map((line, i) => {
      if (line.startsWith('**') && line.endsWith('**')) {
        return <p key={i} className="font-bold text-cyan-300 mt-3 mb-1">{line.replace(/\*\*/g, '')}</p>;
      }
      if (line.startsWith('‚Ä¢ ')) {
        return <p key={i} className="text-slate-300 ml-4">‚Ä¢ {line.substring(2)}</p>;
      }
      if (line === '') {
        return <br key={i} />;
      }
      return <p key={i} className="text-slate-300">{line.replace(/\*\*/g, '')}</p>;
    });
  };

  return (
    <div className="fixed inset-0 z-[200] flex items-center justify-center bg-black/50 backdrop-blur-sm">
      <div className="absolute inset-4 md:inset-10 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-xl shadow-2xl flex flex-col overflow-hidden border border-amber-900/50">
      {/* Header */}
      <div className="h-10 bg-gradient-to-r from-amber-900/80 to-orange-900/80 border-b border-amber-700/50 flex items-center justify-between px-4">
        <div className="flex items-center gap-3">
          <span className="text-xl">üìì</span>
          <span className="font-bold text-amber-300">–ñ—É—Ä–Ω–∞–ª</span>
        </div>
        <div className="flex gap-2">
          <button onClick={onClose} className="w-4 h-4 rounded-full bg-red-500 hover:bg-red-400 transition-colors" />
        </div>
      </div>

      {/* Tabs */}
      <div className="flex border-b border-slate-700 bg-slate-800/50">
        {tabs.map(tab => (
          <button
            key={tab.id}
            onClick={() => setActiveTab(tab.id)}
            className={`flex-1 py-3 px-4 flex items-center justify-center gap-2 text-sm font-medium transition-all ${
              activeTab === tab.id
                ? 'bg-slate-700 text-amber-300 border-b-2 border-amber-500'
                : 'text-slate-400 hover:text-slate-200 hover:bg-slate-700/50'
            }`}
          >
            <span>{tab.icon}</span>
            <span className="hidden sm:inline">{tab.label}</span>
          </button>
        ))}
      </div>

      {/* Content */}
      <div className="flex-1 overflow-hidden flex">
        {/* Guide Tab */}
        {activeTab === 'guide' && (
          <>
            {/* Guide Sidebar */}
            <div className="w-48 border-r border-slate-700 overflow-y-auto bg-slate-800/30">
              {guideContent.map(section => (
                <button
                  key={section.id}
                  onClick={() => setSelectedGuide(section.id)}
                  className={`w-full text-left px-3 py-2 text-sm flex items-center gap-2 transition-all ${
                    selectedGuide === section.id
                      ? 'bg-amber-900/30 text-amber-300 border-l-2 border-amber-500'
                      : 'text-slate-400 hover:bg-slate-700/50 hover:text-slate-200'
                  }`}
                >
                  <span>{section.icon}</span>
                  <span className="truncate">{section.title.replace(section.icon + ' ', '')}</span>
                </button>
              ))}
            </div>
            {/* Guide Content */}
            <div className="flex-1 overflow-y-auto p-6">
              {guideContent.find(s => s.id === selectedGuide) && (
                <div>
                  <h2 className="text-2xl font-bold text-amber-300 mb-4 flex items-center gap-3">
                    <span className="text-3xl">{guideContent.find(s => s.id === selectedGuide)?.icon}</span>
                    {guideContent.find(s => s.id === selectedGuide)?.title.replace(/^.+\s/, '')}
                  </h2>
                  <div className="space-y-1">
                    {renderMarkdown(guideContent.find(s => s.id === selectedGuide)?.content || [])}
                  </div>
                </div>
              )}
            </div>
          </>
        )}

        {/* Lore Tab */}
        {activeTab === 'lore' && (
          <>
            {/* Lore Sidebar */}
            <div className="w-48 border-r border-slate-700 overflow-y-auto bg-slate-800/30">
              {loreContent.map(section => (
                <button
                  key={section.id}
                  onClick={() => setSelectedLore(section.id)}
                  className={`w-full text-left px-3 py-2 text-sm flex items-center gap-2 transition-all ${
                    selectedLore === section.id
                      ? 'bg-purple-900/30 text-purple-300 border-l-2 border-purple-500'
                      : 'text-slate-400 hover:bg-slate-700/50 hover:text-slate-200'
                  }`}
                >
                  <span>{section.icon}</span>
                  <span className="truncate">{section.title.replace(section.icon + ' ', '')}</span>
                </button>
              ))}
            </div>
            {/* Lore Content */}
            <div className="flex-1 overflow-y-auto p-6">
              {loreContent.find(s => s.id === selectedLore) && (
                <div>
                  <h2 className="text-2xl font-bold text-purple-300 mb-4 flex items-center gap-3">
                    <span className="text-3xl">{loreContent.find(s => s.id === selectedLore)?.icon}</span>
                    {loreContent.find(s => s.id === selectedLore)?.title.replace(/^.+\s/, '')}
                  </h2>
                  <div className="space-y-1 leading-relaxed">
                    {renderMarkdown(loreContent.find(s => s.id === selectedLore)?.content || [])}
                  </div>
                </div>
              )}
            </div>
          </>
        )}

        {/* Events Tab */}
        {activeTab === 'events' && (
          <div className="flex-1 overflow-y-auto p-4">
            <h2 className="text-lg font-bold text-green-300 mb-4 flex items-center gap-2">
              <span>üìã</span> –ñ—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π
            </h2>
            {events.length === 0 ? (
              <div className="text-center text-slate-500 py-10">
                <span className="text-4xl">üì≠</span>
                <p className="mt-2">–°–æ–±—ã—Ç–∏–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
                <p className="text-xs mt-1">–ò–≥—Ä–∞–π—Ç–µ, –∏ –∑–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –∑–∞–ø–∏—Å–∏!</p>
              </div>
            ) : (
              <div className="space-y-2">
                {[...events].reverse().map(event => (
                  <div key={event.id} className="flex items-center gap-3 p-3 bg-slate-800/50 rounded-lg border border-slate-700">
                    <span className="text-2xl">{event.icon}</span>
                    <div className="flex-1">
                      <p className="text-slate-200">{event.message}</p>
                      <p className="text-xs text-slate-500">
                        {new Date(event.timestamp).toLocaleString()}
                      </p>
                    </div>
                  </div>
                ))}
              </div>
            )}
          </div>
        )}

        {/* Notes Tab */}
        {activeTab === 'notes' && (
          <div className="flex-1 flex flex-col p-4">
            <h2 className="text-lg font-bold text-blue-300 mb-3 flex items-center gap-2">
              <span>üìù</span> –í–∞—à–∏ –∑–∞–º–µ—Ç–∫–∏
            </h2>
            <textarea
              value={notes}
              onChange={e => setNotes(e.target.value)}
              placeholder="–ü–∏—à–∏—Ç–µ —Å–≤–æ–∏ –∑–∞–º–µ—Ç–∫–∏, –ø–ª–∞–Ω—ã, —Å–µ–∫—Ä–µ—Ç—ã..."
              className="flex-1 bg-slate-800 border border-slate-600 rounded-lg p-4 text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none font-mono text-sm"
            />
            <p className="text-xs text-slate-500 mt-2">
              üíæ –ó–∞–º–µ—Ç–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
            </p>
          </div>
        )}
      </div>

      {/* Footer Stats */}
      <div className="h-8 bg-slate-800/80 border-t border-slate-700 flex items-center justify-between px-4 text-xs text-slate-500">
        <span>üìä –ü—Ä–æ–≥—Ä–µ—Å—Å: {Math.round((state.reputation / 1000) * 100)}%</span>
        <span>üí∞ ‚Çø{state.money.toLocaleString()}</span>
        <span>‚≠ê Rep: {state.reputation}</span>
      </div>
      </div>
    </div>
  );
};
